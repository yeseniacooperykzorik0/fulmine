{
  "swagger": "2.0",
  "info": {
    "title": "ark_node/v1/service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "Service"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/address": {
      "get": {
        "summary": "GetAddress returns offchain address",
        "operationId": "Service_GetAddress",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetAddressResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/balance": {
      "get": {
        "summary": "GetBalance returns ark balance",
        "operationId": "Service_GetBalance",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetBalanceResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/info": {
      "get": {
        "summary": "GetInfo returns info about the ark account",
        "operationId": "Service_GetInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetInfoResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/note/redeem": {
      "post": {
        "summary": "Redeems an ark note by joining a round",
        "operationId": "Service_RedeemNote",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RedeemNoteResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1RedeemNoteRequest"
            }
          }
        ],
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/onboard": {
      "post": {
        "summary": "GetOnboardAddress returns onchain address and invoice for requested amount",
        "operationId": "Service_GetOnboardAddress",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetOnboardAddressResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1GetOnboardAddressRequest"
            }
          }
        ],
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/round/{roundId}": {
      "get": {
        "summary": "Returns round info for optional round_id (no round_id returns current round info)",
        "operationId": "Service_GetRoundInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetRoundInfoResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "roundId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/send/offchain": {
      "post": {
        "summary": "Send asks to send amount to ark address by joining a round",
        "operationId": "Service_SendOffChain",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SendOffChainResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SendOffChainRequest"
            }
          }
        ],
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/send/onchain": {
      "post": {
        "summary": "SendOnChain asks to send requested amount to requested onchain address",
        "operationId": "Service_SendOnChain",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SendOnChainResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SendOnChainRequest"
            }
          }
        ],
        "tags": [
          "Service"
        ]
      }
    },
    "/v1/transactions": {
      "get": {
        "summary": "GetTransactionHistory returns virtual transactions history",
        "operationId": "Service_GetTransactionHistory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetTransactionHistoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "Service"
        ]
      }
    }
  },
  "definitions": {
    "GetInfoResponseNetwork": {
      "type": "string",
      "enum": [
        "NETWORK_UNSPECIFIED",
        "NETWORK_MAINNET",
        "NETWORK_TESTNET",
        "NETWORK_REGTEST"
      ],
      "default": "NETWORK_UNSPECIFIED"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AccountInfo": {
      "type": "object",
      "properties": {
        "namespace": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "derivationPath": {
          "type": "string"
        },
        "xpubs": {
          "type": "string"
        }
      }
    },
    "v1BuildInfo": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        },
        "commit": {
          "type": "string"
        },
        "date": {
          "type": "string"
        }
      }
    },
    "v1GetAddressResponse": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        }
      }
    },
    "v1GetBalanceResponse": {
      "type": "object",
      "properties": {
        "amount": {
          "type": "string",
          "format": "uint64"
        }
      }
    },
    "v1GetInfoResponse": {
      "type": "object",
      "properties": {
        "network": {
          "$ref": "#/definitions/GetInfoResponseNetwork",
          "title": "the network of the wallet"
        },
        "account": {
          "$ref": "#/definitions/v1AccountInfo",
          "description": "list containing info about the wallet accounts."
        },
        "buildInfo": {
          "$ref": "#/definitions/v1BuildInfo",
          "description": "info about the current version of the ark wallet."
        }
      }
    },
    "v1GetOnboardAddressRequest": {
      "type": "object",
      "properties": {
        "amount": {
          "type": "string",
          "format": "uint64"
        }
      }
    },
    "v1GetOnboardAddressResponse": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        }
      }
    },
    "v1GetRoundInfoResponse": {
      "type": "object",
      "properties": {
        "round": {
          "$ref": "#/definitions/v1Round"
        }
      }
    },
    "v1GetTransactionHistoryResponse": {
      "type": "object",
      "properties": {
        "transactions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1TransactionInfo"
          }
        }
      }
    },
    "v1Node": {
      "type": "object",
      "properties": {
        "txid": {
          "type": "string"
        },
        "tx": {
          "type": "string"
        },
        "parentTxid": {
          "type": "string"
        }
      }
    },
    "v1RedeemNoteRequest": {
      "type": "object",
      "properties": {
        "note": {
          "type": "string"
        }
      }
    },
    "v1RedeemNoteResponse": {
      "type": "object",
      "properties": {
        "txid": {
          "type": "string"
        }
      }
    },
    "v1Round": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "start": {
          "type": "string",
          "format": "int64"
        },
        "end": {
          "type": "string",
          "format": "int64"
        },
        "roundTx": {
          "type": "string"
        },
        "congestionTree": {
          "$ref": "#/definitions/v1Tree"
        },
        "forfeitTxs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "connectors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1SendOffChainRequest": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "amount": {
          "type": "string",
          "format": "uint64"
        }
      }
    },
    "v1SendOffChainResponse": {
      "type": "object",
      "properties": {
        "roundId": {
          "type": "string"
        }
      }
    },
    "v1SendOnChainRequest": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "amount": {
          "type": "string",
          "format": "uint64"
        }
      }
    },
    "v1SendOnChainResponse": {
      "type": "object",
      "properties": {
        "txid": {
          "type": "string"
        }
      }
    },
    "v1TransactionInfo": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string"
        },
        "amount": {
          "type": "string",
          "format": "uint64"
        },
        "roundTxid": {
          "type": "string"
        },
        "redeemTxid": {
          "type": "string"
        },
        "boardingTxid": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/v1TxType"
        },
        "settled": {
          "type": "boolean"
        }
      }
    },
    "v1Tree": {
      "type": "object",
      "properties": {
        "levels": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1TreeLevel"
          }
        }
      }
    },
    "v1TreeLevel": {
      "type": "object",
      "properties": {
        "nodes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Node"
          }
        }
      }
    },
    "v1TxType": {
      "type": "string",
      "enum": [
        "TX_TYPE_UNSPECIFIED",
        "TX_TYPE_SENT",
        "TX_TYPE_RECEIVED"
      ],
      "default": "TX_TYPE_UNSPECIFIED"
    }
  }
}
