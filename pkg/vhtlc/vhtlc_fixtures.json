{
  "valid": [
      {
          "description": "CSV locktime > 16",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 265,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 17
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "expected": "tark1qz4d2t2czchfaml2l3ad3gwde2qxpd0srhc7wkpnvtg99cnxyz8c3pnvvhnhumhwhqthmlxmdryakwx99s6508y8dunj9sty2p5mr7unh5re63",
          "expectedTapTree": {
            "root": "8784ad44eceda74eeed03142c2da3bda4176641878e02b876dab375f9e1a8b4e",
            "merkleProofs": {
                "a9144d487dd3753a89bc9fe98401d1196523058251fc8769201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac08ef44b7650bc3abf231732808f7bad85ae401981ba7c6b9d14b98238ec96d4456643ead15c94ae290be53946575de48828f34765b9f5451ba34d589ef74382a73e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac070162f312bd54f1b23105f40e41447ec2fe479703a7301d9b757ab457298552b6643ead15c94ae290be53946575de48828f34765b9f5451ba34d589ef74382a73e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "020901b175200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0f5cfda4288f1abd5d251c801cf6f9f9b5fa0dac46369161fc00cb33e8ea5f84f285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c9829543e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "a9144d487dd3753a89bc9fe98401d1196523058251fc87690111b275201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac094cec9b7d47d5670d7e3a3913972773aa4886dd6dd64024ead85da27d09c978a285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c9829543e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "029000b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac09f28cfa0add1592affbcd62af673112ee76e5498cf090c2acb75b3d88ec5f26c5267a398453211e63e866e513f61cd0e0fb49f73510778377f9ccf445412f905"
                },
                "029000b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0011e933e71d64b152fe5eae97e88fe70c19a17babeb8a33f2c56418e3acc69b05267a398453211e63e866e513f61cd0e0fb49f73510778377f9ccf445412f905"
                }
            }
        }
      },
      {
          "description": "CSV locktime <= 16",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 265,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 16
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "expected": "tark1qz4d2t2czchfaml2l3ad3gwde2qxpd0srhc7wkpnvtg99cnxyz8c3vyn9exe9gjwcjp5ez0wfhhawvvg0xfenzztjmgp3ddrvkwhw04eztqjn6",
          "expectedTapTree": {
            "root": "038a5c1d8a8bbe7cb466eb405dde0a551da25ea26cfe494fde314ade16e71f8f",
            "merkleProofs": {
                "a9144d487dd3753a89bc9fe98401d1196523058251fc8769201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac08ef44b7650bc3abf231732808f7bad85ae401981ba7c6b9d14b98238ec96d4456a872da8d8d169337a8be5e85aa9e10cc4f36729dc077b7049c2ff65661d19c33e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac070162f312bd54f1b23105f40e41447ec2fe479703a7301d9b757ab457298552b6a872da8d8d169337a8be5e85aa9e10cc4f36729dc077b7049c2ff65661d19c33e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "020901b175200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0eb616800bc950648bf375d2032d63bb5dcd908c06787b33355a1398fd9a4f40b285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c9829543e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "a9144d487dd3753a89bc9fe98401d1196523058251fc876960b275201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac094cec9b7d47d5670d7e3a3913972773aa4886dd6dd64024ead85da27d09c978a285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c9829543e1e943fc1f0f447e631180233c9d1427a594ff802bc6f9f808f75f8c34b86e9"
                },
                "029000b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac09f28cfa0add1592affbcd62af673112ee76e5498cf090c2acb75b3d88ec5f26ceef785183862ce1add441305de46ecb31bcd9349d7a7142aaceb8ce482ff0bc5"
                },
                "029000b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ac": {
                    "controlBlock": "c050929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0011e933e71d64b152fe5eae97e88fe70c19a17babeb8a33f2c56418e3acc69b0eef785183862ce1add441305de46ecb31bcd9349d7a7142aaceb8ce482ff0bc5"
                }
            }
        }
      },
      {
        "description": "with seconds CSV timelock",
        "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
        "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
        "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
        "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
        "refundLocktime": 265,
        "unilateralClaimDelay": {
            "type": "seconds",
            "value": 512
        },
        "unilateralRefundDelay": {
            "type": "seconds",
            "value": 1024
        },
        "unilateralRefundWithoutReceiverDelay": {
            "type": "seconds",
            "value": 1536
        },
        "expected": "tark1qz4d2t2czchfaml2l3ad3gwde2qxpd0srhc7wkpnvtg99cnxyz8c3f354ncawvx3enha2ydyrmactc6fyuvqppsqpl5k63hzupmrl7ndmz8pnu",
        "expectedTapTree": {
            "root": "f7b1fd0c628301134dbbccfb73aeb96789a25e9a1de7934dfff67220fa8c4fc4",
            "merkleProofs": {
                "a9144d487dd3753a89bc9fe98401d1196523058251fc8769201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac08ef44b7650bc3abf231732808f7bad85ae401981ba7c6b9d14b98238ec96d44555d63eb412eda727c63ef438de62b9cc67b92f84ef556d49a12eb71abae15f8cb90987c1b9d19cd160c547934fe7fb0dbdbff45fe6ee74d082e964681696acd6"
                },
                "200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac070162f312bd54f1b23105f40e41447ec2fe479703a7301d9b757ab457298552b55d63eb412eda727c63ef438de62b9cc67b92f84ef556d49a12eb71abae15f8cb90987c1b9d19cd160c547934fe7fb0dbdbff45fe6ee74d082e964681696acd6"
                },
                "020901b175200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad20aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac006c87870da583bf1b0bf9b3b68c5c561f7604f393be2c221c77036f0856754d9285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c982954b90987c1b9d19cd160c547934fe7fb0dbdbff45fe6ee74d082e964681696acd6"
                },
                "a9144d487dd3753a89bc9fe98401d1196523058251fc876903010040b275201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac094cec9b7d47d5670d7e3a3913972773aa4886dd6dd64024ead85da27d09c978a285d94dbcf918cb2cdb4cfe57ea60516a79125b921e99077a293e8de5c982954b90987c1b9d19cd160c547934fe7fb0dbdbff45fe6ee74d082e964681696acd6"
                },
                "03020040b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ad201e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53bac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac048794cceb53c948ee96247ed149ea8c6d2391c068e464de2e776ddb04395d50bd0dd0dbea67d8ee107e308fc84ae2dcddae85293e08cb2798606fcc1f4ec8be2"
                },
                "03030040b275200192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4ac": {
                    "controlBlock": "c150929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac07154349507b6fb2a2d3051f163bfca60e60b6b998c93dce027e74cd38a7f0381d0dd0dbea67d8ee107e308fc84ae2dcddae85293e08cb2798606fcc1f4ec8be2"
                }
            }
        }
    }
  ],
  "invalid": [
      {
          "description": "Invalid preimageHash length (too short)",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 265,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 17
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "error": "preimage hash must be 20 bytes"
      },
      {
          "description": "Invalid preimageHash length (too long)",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc1234567890abcdef",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 265,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 17
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "error": "preimage hash must be 20 bytes"
      },
      {
          "description": "Zero timelock value",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 265,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 0
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "error": "unilateral claim delay must be greater than 0"
      },
      {
          "description": "Invalid refund locktime (zero)",
          "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
          "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
          "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
          "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
          "refundLocktime": 0,
          "unilateralClaimDelay": {
              "type": "blocks",
              "value": 17
          },
          "unilateralRefundDelay": {
              "type": "blocks",
              "value": 144
          },
          "unilateralRefundWithoutReceiverDelay": {
              "type": "blocks",
              "value": 144
          },
          "error": "refund locktime must be greater than 0"
      },
      {
        "description": "Invalid seconds timelock (not multiple of 512)",
        "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
        "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
        "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
        "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
        "refundLocktime": 265,
        "unilateralClaimDelay": {
            "type": "seconds",
            "value": 1000
        },
        "unilateralRefundDelay": {
            "type": "seconds",
            "value": 1024
        },
        "unilateralRefundWithoutReceiverDelay": {
            "type": "seconds",
            "value": 1536
        },
        "error": "seconds timelock must be multiple of 512"
    },
    {
      "description": "Invalid seconds timelock (less than 512)",
      "preimageHash": "4d487dd3753a89bc9fe98401d1196523058251fc",
      "receiver": "021e1bb85455fe3f5aed60d101aa4dbdb9e7714f6226769a97a17a5331dadcd53b",
      "sender": "030192e796452d6df9697c280542e1560557bcf79a347d925895043136225c7cb4",
      "server": "03aad52d58162e9eefeafc7ad8a1cdca8060b5f01df1e7583362d052e266208f88",
      "refundLocktime": 265,
      "unilateralClaimDelay": {
          "type": "seconds",
          "value": 512
      },
      "unilateralRefundDelay": {
          "type": "seconds",
          "value": 511
      },
      "unilateralRefundWithoutReceiverDelay": {
          "type": "seconds",
          "value": 1536
      },
      "error": "seconds timelock must be greater or equal to 512"
    }
  ]
}
